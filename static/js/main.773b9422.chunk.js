(this["webpackJsonpairfrance-status-react"]=this["webpackJsonpairfrance-status-react"]||[]).push([[0],{52:function(e,t,a){},53:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);a(26),a(27);var s=a(1),i=a.n(s),r=a(19),n=a.n(r),c=(a(52),a(53),a(9)),l=a(0),o=function(){return Object(l.jsxs)("ul",{className:"nav justify-content-center",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(c.b,{to:"/",className:"nav-link active",children:"Home"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(c.b,{to:"/about",className:"nav-link",children:"About"})})]})},d=a(2),b=a(21),j=a(22),h=a(10),m=a(25),u=a(24),g=function(e){var t=e.places,a=e.type;return Object(l.jsx)("div",{children:"D"===a?Object(l.jsxs)("p",{children:[t.terminalCode&&Object(l.jsxs)("span",{children:["Terminal: ",t.terminalCode,Object(l.jsx)("br",{})]}),t.gateNumber&&Object(l.jsxs)("span",{children:["Check-In Zone: ",t.checkInZone.join(", "),Object(l.jsx)("br",{})]}),t.terminalCode&&Object(l.jsxs)("span",{children:["Boarding Terminal: ",t.boardingTerminal,Object(l.jsx)("br",{})]}),t.gateNumber&&Object(l.jsxs)("span",{children:["Gate Number: ",t.gateNumber.join(", "),Object(l.jsx)("br",{})]}),t.boardingContactType&&"C"===t.boardingContactType?Object(l.jsxs)("span",{children:["Contact Type: JetBridge ",Object(l.jsx)("br",{})]}):"F"===t.boardingContactType?Object(l.jsxs)("span",{children:["Contact Type: Gate but by foot/bus"," ",t.boardingContactType&&Object(l.jsxs)("span",{children:["(",t.boardingBusQuantity," bus(es) incoming)"]}),Object(l.jsx)("br",{})]}):"L"===t.boardingContactType?Object(l.jsxs)("span",{children:["Contact Type: Remote, by bus"," ",t.boardingContactType&&Object(l.jsxs)("span",{children:["(",t.boardingBusQuantity," bus(es) incoming)"]}),Object(l.jsx)("br",{})]}):""]}):Object(l.jsxs)("p",{children:[t.terminalCode&&Object(l.jsxs)("span",{children:["Terminal: ",t.terminalCode,Object(l.jsx)("br",{})]}),t.parkingPosition&&Object(l.jsxs)("span",{children:["Parking Position: ",t.parkingPosition,Object(l.jsx)("br",{})]}),t.boardingContactType&&"C"===t.disembarkingContactType?Object(l.jsxs)("span",{children:["Contact Type: JetBridge ",Object(l.jsx)("br",{})]}):"F"===t.disembarkingContactType?Object(l.jsxs)("span",{children:["Contact Type: Gate but by foot/bus"," ",t.disembarkingContactType&&Object(l.jsxs)("span",{children:["(",t.disembarkingBusQuantity," bus(es) incoming)"]}),Object(l.jsx)("br",{})]}):"L"===t.disembarkingContactType?Object(l.jsxs)("span",{children:["Contact Type: Remote, by bus"," ",t.disembarkingContactType&&Object(l.jsxs)("span",{children:["(",t.disembarkingBusQuantity," bus(es) incoming)"]}),Object(l.jsx)("br",{})]}):"",t.baggageBelt&&t.baggageBelt>1&&Object(l.jsxs)("span",{children:["Bagage Belt(s): ",t.baggageBelt.join(", "),Object(l.jsx)("br",{})]})]})})},p=function(e){return new Date(e.split("+")[0]).toLocaleTimeString([],{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},x=function(e){var t=e.flightLeg,a=e.id;return Object(l.jsxs)("div",{children:["C"!==t.status&&"X"!==t.status&&Object(l.jsxs)("div",{children:["(",t.legStatusPublicLangTransl,")",t.timeToArrival&&"Arrived"!==t.legStatusPublicLangTransl&&Object(l.jsxs)("span",{children:[" ","(Arriving in ",t.timeToArrival.replace("PT",""),")"," "]}),t.completionPercentage&&"Arrived"!==t.legStatusPublicLangTransl&&"0"!==t.completionPercentage&&Object(l.jsxs)("span",{children:["(",t.completionPercentage,"%)"]}),t.otherFlightLegStatuses&&"Arrived"!==t.legStatusPublicLangTransl&&t.otherFlightLegStatuses.boardingStatus&&Object(l.jsxs)("p",{children:["Boarding Status:"," ",t.otherFlightLegStatuses.boardingStatus]})]}),("C"===t.status||"X"===t.status)&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Flight has been cancelled. Please contact your airline for details."})]}),t.irregularity.delayReasonPublicLangTransl&&t.irregularity.delayReasonPublicLangTransl.map((function(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"alert alert-danger",role:"alert",children:e})]})})),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row g-4",children:[Object(l.jsxs)("div",{className:"feature col-md-5",children:[Object(l.jsx)("h2",{className:"fw-bold",children:t.departureInformation.airport.code}),Object(l.jsxs)("p",{children:[t.departureInformation.airport.nameLangTranl,Object(l.jsx)("br",{}),t.departureInformation.airport.city.nameLangTranl,","," ",t.departureInformation.airport.city.country.code]}),Object(l.jsxs)("p",{className:"fs-5",children:["Scheduled Departure Time:"," ",p(t.departureInformation.times.scheduled)]}),void 0===t.departureInformation.times.actualTakeOffTime?Object(l.jsxs)("p",{className:"fs-5",children:["Latest Available Departure Time:"," ",p(t.departureInformation.times.latestPublished)]}):Object(l.jsxs)("p",{className:"fs-5",children:["Departed At:"," ",p(t.departureInformation.times.actualTakeOffTime)]}),Object(l.jsx)(g,{places:t.departureInformation.airport.places,type:"D"})]}),Object(l.jsxs)("div",{className:"feature col-md-2",children:[Object(l.jsx)("img",{width:"50",src:"https://upload.wikimedia.org/wikipedia/commons/e/ee/1a2.svg",alt:"Aircraft Illustration"}),Object(l.jsx)("p",{children:t.aircraft.typeName}),t.aircraft.registration&&Object(l.jsxs)("p",{children:["(Reg."," ","F"===t.aircraft.registration[0]?t.aircraft.registration[0]+"-"+t.aircraft.registration.substr(1):t.aircraft.registration,")"]})]}),Object(l.jsxs)("div",{className:"feature col-md-5",children:[Object(l.jsx)("h2",{className:"fw-bold",children:t.arrivalInformation.airport.code}),Object(l.jsxs)("p",{children:[t.arrivalInformation.airport.nameLangTranl,Object(l.jsx)("br",{}),t.arrivalInformation.airport.city.nameLangTranl,","," ",t.arrivalInformation.airport.city.country.code]}),Object(l.jsxs)("p",{className:"fs-5",children:["Scheduled Arrival Time:"," ",p(t.arrivalInformation.times.latestPublished)]}),void 0===t.arrivalInformation.times.actual?Object(l.jsxs)("p",{className:"fs-5",children:["Latest Available Arrival Time:"," ",p(t.arrivalInformation.times.latestPublished)]}):Object(l.jsxs)("p",{className:"fs-5",children:["Arrived at:"," ",p(t.arrivalInformation.times.actual)]}),Object(l.jsx)(g,{places:t.arrivalInformation.airport.places,type:"A"})]})]})}),Object(l.jsx)("p",{children:Object(l.jsx)("button",{type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseMoreInfo"+a,"aria-expanded":"false","aria-controls":"collapseMoreInfo"+a,className:"btn btn-lg btn-primary mt-1 w-100",children:"More info"})}),Object(l.jsx)("div",{className:"collapse",id:"collapseMoreInfo"+a,children:Object(l.jsx)("div",{className:"card card-body",children:Object(l.jsxs)("ul",{className:"list-group",children:[Object(l.jsxs)("li",{className:"list-group-item",children:["PAX Config: ",t.aircraft.physicalPaxConfiguration]}),Object(l.jsxs)("li",{className:"list-group-item",children:["Freight Config:"," ",t.aircraft.physicalFreightConfiguration]}),Object(l.jsxs)("li",{className:"list-group-item",children:["Operational Config:"," ",t.aircraft.operationalConfiguration]}),Object(l.jsxs)("li",{className:"list-group-item",children:["Wifi Enabled: ",t.aircraft.wifiEnabled]}),Object(l.jsxs)("li",{className:"list-group-item",children:["Satellite Connectivity:"," ",t.aircraft.satelliteConnectivityOnBoard]})]})})})]})},O=a(23),f=a.n(O),v=a(65),y=function(e){return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"modal-dialog-xl",role:"document",children:Object(l.jsx)("div",{className:"modal-content rounded-6 shadow",children:Object(l.jsxs)("div",{className:"modal-body p-3",children:[Object(l.jsxs)("details",{children:[Object(l.jsxs)("summary",{className:"h3 fw-bold mb-0",children:[e.flight.airline.code,e.flight.flightNumber,Object(l.jsx)("button",{type:"button",className:"btn btn-primary float-end","data-bs-toggle":"modal","data-bs-target":"#json_"+e.flight.id.split("+")[0],children:Object(l.jsx)(v.a,{})}),Object(l.jsx)("div",{className:"modal fade",id:"json_"+e.flight.id.split("+")[0],tabIndex:"-1","aria-labelledby":"json_"+e.flight.id.split("+")[0],"aria-hidden":"true",children:Object(l.jsx)("div",{className:"modal-dialog modal-xl",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsx)("div",{className:"modal-body",children:Object(l.jsx)("p",{className:"fs-6 text-start",children:Object(l.jsx)(f.a,{src:e,onEdit:!1,onAdd:!1,onDelete:!1})})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]}),Object(l.jsxs)("ul",{className:"list-group list-group-flush",children:[e.flight.codeShareRelations.map((function(e){return Object(l.jsxs)("li",{className:"list-group-item",children:[e.airline.code,e.marketingFlightNumber," (",e.airline.name,")"]})})),!e.flight.codeShareRelations&&Object(l.jsx)("li",{className:"list-group-item",children:"There is no codeshare on this flight"}),Object(l.jsx)("br",{})]})]}),Object(l.jsx)("div",{children:e.flight.flightLegs.map((function(t,a){return Object(l.jsx)(x,{flightLeg:t,id:a+"_"+e.flight.id.split("+")[0]})}))})]})})})})},N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(b.a)(this,a),(s=t.call(this,e)).fetchFlights=function(e,t,a,i){fetch("https://api.airfranceklm.com/opendata/flightstatus/?carrierCode="+e+"&flightNumber="+t+"&startRange="+a+"&endRange="+i,{headers:new Headers({"accept-language":"en-GB","Api-Key":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AIRFRANCE_KLM_API_KEY})}).then((function(e){return e.json()})).then((function(e){s.setState({results:[]}),e.operationalFlights?s.setState({results:e.operationalFlights}):s.setState({errorMessage:e.errors[0].description})})).catch((function(e){s.setState({results:[]}),s.setState({errorMessage:e.toString}),console.error("There was an error!",e)}))},s.toggleButtonState=function(){var e=s.state.airline,t=s.state.flightNumber,a=new Date;a.setDate(a.getDate()-1);var i=new Date;i.setDate(i.getDate()+3),s.fetchFlights(e,t,a.toISOString().split(".")[0]+"Z",i.toISOString().split(".")[0]+"Z")},s.state={results:[],airline:"AF",flightNumber:"",errorMessage:""},s.handleAirlineUpdate=s.handleAirlineUpdate.bind(Object(h.a)(s)),s.handleFlightNumberUpdate=s.handleFlightNumberUpdate.bind(Object(h.a)(s)),s}return Object(j.a)(a,[{key:"handleAirlineUpdate",value:function(e){this.setState({airline:e.target.value})}},{key:"handleFlightNumberUpdate",value:function(e){this.setState({flightNumber:e.target.value})}},{key:"render",value:function(){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"px-4 text-center",children:[Object(l.jsxs)("div",{className:"clearfix",children:[Object(l.jsx)("img",{src:"./air-france-logo.svg",height:"25",alt:"Air France Logo"}),Object(l.jsx)("img",{src:"./klm-logo.svg",height:"50",alt:"KLM Logo"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("h1",{className:"display-5 fw-bold",children:"Air France/KLM Status Page*"}),Object(l.jsx)("p",{className:"text-muted",children:"* This website is not affiliated in any way with Air France/KLM or any other entities"}),Object(l.jsxs)("div",{className:"col-lg-6 mx-auto",children:[Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsxs)("select",{value:this.state.airline,onChange:this.handleAirlineUpdate,className:"form-select",id:"airline",style:{textAlign:"right"},dir:"rtl",children:[Object(l.jsx)("option",{value:"AF",children:"AF/AFR"}),Object(l.jsx)("option",{value:"KL",children:"KL/KLM"})]}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"flight-number",placeholder:"349",onChange:this.handleFlightNumberUpdate,value:this.state.flightNumber})]}),Object(l.jsx)("div",{className:"d-grid gap-2 mt-1 d-sm-flex justify-content-sm-center",children:Object(l.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4 gap-3",onClick:this.toggleButtonState,children:"Check Status"})}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{children:this.state.results.map((function(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(y,{flight:e}),Object(l.jsx)("br",{})]})}))}),""!==this.state.errorMessage&&Object(l.jsxs)("div",{className:"alert alert-danger mt-3",children:["Error getting the flight you are asking for ...",this.state.errorMessage?this.state.errorMessage:""]})]})]})})}}]),a}(i.a.Component),T=function(){return Object(l.jsxs)("div",{className:"px-4 py-5 my-5 text-center",children:[Object(l.jsx)("h1",{className:"display-5 fw-bold",children:"About AirFrance/KLM Status Page"}),Object(l.jsxs)("div",{className:"col-lg-6 mx-auto",children:[Object(l.jsx)("p",{className:"lead mb-4",children:"To link both of my passions (aviation and coding), I decided to create this website to be able to access more information about Air France and KLM flights. This website gives information more information about the flights than the status pages made by the company themselves (You can see the parking position for the aircraft, sometimes the registration of the aircraft or the reason for a delay and more!)"}),Object(l.jsxs)("p",{className:"lead mb-4",children:["The website uses the"," ",Object(l.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://docs.airfranceklm.com/",children:"AF/KLM API"})," ","for the data, JS/React to display the information and GitHub Pages to host the site. The code is hosted on GitHub so you can make improvements to website or even create your own version of it! The only thing that you will need to get is the AF/KLM API KEY that you can get from their website."]}),Object(l.jsx)("div",{className:"d-grid gap-2 d-sm-flex justify-content-sm-center",children:Object(l.jsx)("a",{type:"button",href:"https://github.com/art29/airfrance-klm-status-page",className:"btn btn-primary btn-lg px-4 gap-3",target:"_blank",rel:"noreferrer",children:"GitHub"})})]})]})},C=function(){return Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("footer",{className:"py-5",children:Object(l.jsxs)("div",{className:"d-flex justify-content-between py-4 my-4 border-top",children:[Object(l.jsx)("div",{children:Object(l.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Arthur F\xe9tiveau. Licensed under GNU General Public License v3.0.",Object(l.jsx)("br",{}),"For source code, you can check out the"," ",Object(l.jsx)("a",{href:"https://github.com/art29/airfrance-klm-status-page",children:"GitHub"}),"!"]})}),Object(l.jsx)("ul",{className:"list-unstyled d-flex",children:Object(l.jsx)("li",{children:"For any questions, you can contact me at flightstatus[@]afetiveau[dot]com"})})]})})})};var A=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(c.a,{basename:"/",children:[Object(l.jsx)(o,{}),Object(l.jsx)(d.a,{exact:!0,path:"/",component:N}),Object(l.jsx)(d.a,{path:"/about",component:T}),Object(l.jsx)(C,{})]})})};n.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(A,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.773b9422.chunk.js.map