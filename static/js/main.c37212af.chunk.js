(this["webpackJsonpairfrance-status-react"]=this["webpackJsonpairfrance-status-react"]||[]).push([[0],{52:function(e,t,a){},53:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);a(26),a(27);var i=a(1),r=a.n(i),s=a(19),n=a.n(s),c=(a(52),a(53),a(22)),l=a(2),o=a(20),d=a(21),j=a(9),b=a(25),h=a(24),u=a(0),m=function(e){var t=e.places,a=e.type;return Object(u.jsx)("div",{children:"D"===a?Object(u.jsxs)("p",{children:[void 0!==t.terminalCode&&Object(u.jsxs)("span",{children:["Terminal: ",t.terminalCode,Object(u.jsx)("br",{})]}),void 0!==t.gateNumber&&Object(u.jsxs)("span",{children:["Check-In Zone: ",t.checkInZone.join(", "),Object(u.jsx)("br",{})]}),void 0!==t.terminalCode&&Object(u.jsxs)("span",{children:["Boarding Terminal: ",t.boardingTerminal,Object(u.jsx)("br",{})]}),void 0!==t.gateNumber&&Object(u.jsxs)("span",{children:["Gate Number: ",t.gateNumber.join(", "),Object(u.jsx)("br",{})]}),void 0!==t.boardingContactType&&"C"===t.boardingContactType?Object(u.jsxs)("span",{children:["Contact Type: JetBridge ",Object(u.jsx)("br",{})]}):"F"===t.boardingContactType?Object(u.jsxs)("span",{children:["Contact Type: Gate but by foot/bus ",void 0!==t.boardingContactType&&Object(u.jsxs)("span",{children:["(",t.boardingBusQuantity," bus(es) incoming)"]}),Object(u.jsx)("br",{})]}):"L"===t.boardingContactType?Object(u.jsxs)("span",{children:["Contact Type: Remote, by bus ",void 0!==t.boardingContactType&&Object(u.jsxs)("span",{children:["(",t.boardingBusQuantity," bus(es) incoming)"]}),Object(u.jsx)("br",{})]}):""]}):Object(u.jsxs)("p",{children:[void 0!==t.terminalCode&&Object(u.jsxs)("span",{children:["Terminal: ",t.terminalCode,Object(u.jsx)("br",{})]}),void 0!==t.parkingPosition&&Object(u.jsxs)("span",{children:["Parking Position: ",t.parkingPosition,Object(u.jsx)("br",{})]}),void 0!==t.boardingContactType&&"C"===t.disembarkingContactType?Object(u.jsxs)("span",{children:["Contact Type: JetBridge ",Object(u.jsx)("br",{})]}):"F"===t.disembarkingContactType?Object(u.jsxs)("span",{children:["Contact Type: Gate but by foot/bus ",void 0!==t.disembarkingContactType&&Object(u.jsxs)("span",{children:["(",t.disembarkingBusQuantity," bus(es) incoming)"]}),Object(u.jsx)("br",{})]}):"L"===t.disembarkingContactType?Object(u.jsxs)("span",{children:["Contact Type: Remote, by bus ",void 0!==t.disembarkingContactType&&Object(u.jsxs)("span",{children:["(",t.disembarkingBusQuantity," bus(es) incoming)"]}),Object(u.jsx)("br",{})]}):"",void 0!==t.baggageBelt&&t.baggageBelt>1&&Object(u.jsxs)("span",{children:["Bagage Belt(s): ",t.baggageBelt.join(", "),Object(u.jsx)("br",{})]})]})})},g=function(e){return new Date(e.split("+")[0]).toLocaleTimeString([],{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},p=function(e){var t=e.flightLeg,a=e.id;return Object(u.jsxs)("div",{children:["C"!==t.status&&"X"!==t.status&&Object(u.jsxs)("div",{children:["(",t.legStatusPublicLangTransl,")",void 0!==t.timeToArrival&&"Arrived"!==t.legStatusPublicLangTransl&&Object(u.jsxs)("span",{children:[" (Arriving in ",t.timeToArrival.replace("PT",""),") "]}),void 0!==t.completionPercentage&&"Arrived"!==t.legStatusPublicLangTransl&&0!==t.completionPercentage&&Object(u.jsxs)("span",{children:["(",t.completionPercentage,"%)"]}),void 0!==t.otherFlightLegStatuses&&"Arrived"!==t.legStatusPublicLangTransl&&void 0!==t.otherFlightLegStatuses.boardingStatus&&Object(u.jsxs)("p",{children:["Boarding Status: ",t.otherFlightLegStatuses.boardingStatus]})]}),("C"===t.status||"X"===t.status)&&Object(u.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Flight has been cancelled. Please contact your airline for details."}),void 0!==t.irregularity.delayReasonPublicLangTransl&&t.irregularity.delayReasonPublicLangTransl.map((function(e){return Object(u.jsx)("div",{className:"alert alert-danger",role:"alert",children:e})})),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row g-4",children:[Object(u.jsxs)("div",{className:"feature col-md-5",children:[Object(u.jsx)("h2",{className:"fw-bold",children:t.departureInformation.airport.code}),Object(u.jsxs)("p",{children:[t.departureInformation.airport.nameLangTranl,Object(u.jsx)("br",{}),t.departureInformation.airport.city.nameLangTranl,", ",t.departureInformation.airport.city.country.code]}),Object(u.jsxs)("p",{className:"fs-5",children:["Scheduled Departure Time: ",g(t.departureInformation.times.scheduled)]}),void 0===t.departureInformation.times.actualTakeOffTime?Object(u.jsxs)("p",{className:"fs-5",children:["Latest Available Departure Time: ",g(t.departureInformation.times.latestPublished)]}):Object(u.jsxs)("p",{className:"fs-5",children:["Departed At: ",g(t.departureInformation.times.actualTakeOffTime)]}),Object(u.jsx)(m,{places:t.departureInformation.airport.places,type:"D"})]}),Object(u.jsxs)("div",{className:"feature col-md-2",children:[Object(u.jsx)("img",{width:"50",src:"https://upload.wikimedia.org/wikipedia/commons/e/ee/1a2.svg",alt:"Aircraft Illustration"}),Object(u.jsx)("p",{children:t.aircraft.typeName}),void 0!==t.aircraft.registration&&Object(u.jsxs)("p",{children:["(Reg. ",t.aircraft.registration,")"]})]}),Object(u.jsxs)("div",{className:"feature col-md-5",children:[Object(u.jsx)("h2",{className:"fw-bold",children:t.arrivalInformation.airport.code}),Object(u.jsxs)("p",{children:[t.arrivalInformation.airport.nameLangTranl,Object(u.jsx)("br",{}),t.arrivalInformation.airport.city.nameLangTranl,", ",t.arrivalInformation.airport.city.country.code]}),Object(u.jsxs)("p",{className:"fs-5",children:["Scheduled Arrival Time: ",g(t.arrivalInformation.times.latestPublished)]}),void 0===t.arrivalInformation.times.actual?Object(u.jsxs)("p",{className:"fs-5",children:["Latest Available Arrival Time: ",g(t.arrivalInformation.times.latestPublished)]}):Object(u.jsxs)("p",{className:"fs-5",children:["Arrived at: ",g(t.arrivalInformation.times.actual)]}),Object(u.jsx)(m,{places:t.arrivalInformation.airport.places,type:"A"})]})]})}),Object(u.jsx)("p",{children:Object(u.jsx)("button",{type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseMoreInfo"+a,"aria-expanded":"false","aria-controls":"collapseMoreInfo"+a,className:"btn btn-lg btn-primary mt-5 w-100",children:"More info"})}),Object(u.jsx)("div",{className:"collapse",id:"collapseMoreInfo"+a,children:Object(u.jsx)("div",{className:"card card-body",children:Object(u.jsxs)("ul",{className:"list-group",children:[Object(u.jsxs)("li",{className:"list-group-item",children:["PAX Config: ",t.aircraft.physicalPaxConfiguration]}),Object(u.jsxs)("li",{className:"list-group-item",children:["Freight Config: ",t.aircraft.physicalFreightConfiguration]}),Object(u.jsxs)("li",{className:"list-group-item",children:["Operational Config: ",t.aircraft.operationalConfiguration]}),Object(u.jsxs)("li",{className:"list-group-item",children:["Wifi Enabled: ",t.aircraft.wifiEnabled]}),Object(u.jsxs)("li",{className:"list-group-item",children:["Satellite Connectivity: ",t.aircraft.satelliteConnectivityOnBoard]})]})})})]})},x=function(e){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"modal-dialog-xl",role:"document",children:Object(u.jsx)("div",{className:"modal-content rounded-6 shadow",children:Object(u.jsxs)("div",{className:"modal-body p-3",children:[Object(u.jsxs)("details",{children:[Object(u.jsxs)("summary",{className:"h3 fw-bold mb-0",children:[e.flight.airline.code,e.flight.flightNumber]}),Object(u.jsxs)("ul",{className:"list-group list-group-flush",children:[e.flight.codeShareRelations.map((function(e){return Object(u.jsxs)("li",{className:"list-group-item",children:[e.airline.code,e.marketingFlightNumber," (",e.airline.name,")"]})})),void 0===e.flight.codeShareRelations&&Object(u.jsx)("li",{className:"list-group-item",children:"There is not codeshare on this flight"}),Object(u.jsx)("br",{})]})]}),Object(u.jsx)("div",{children:e.flight.flightLegs.map((function(t,a){return Object(u.jsx)(p,{flightLeg:t,id:a+"_"+e.flight.id.split("+")[0]})}))})]})})})})},O=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).fetchFlights=function(e,t,a,r){fetch("https://api.airfranceklm.com/opendata/flightstatus/?carrierCode="+e+"&flightNumber="+t+"&startRange="+a+"&endRange="+r,{headers:new Headers({"accept-language":"en-GB","Api-Key":"w8j4nhp8y4j9zf6mmeb8qfk9"})}).then((function(e){return e.json()})).then((function(e){void 0!==e.operationalFlights?i.setState({results:e.operationalFlights}):(i.setState({errorMessage:e.errors[0].description}),console.error("There was an error!",i.state.errorMessage))})).catch((function(e){i.setState({errorMessage:e.toString}),console.error("There was an error!",e)}))},i.toggleButtonState=function(){var e=i.state.airline,t=i.state.flight_number,a=new Date;a.setDate(a.getDate()-1);var r=new Date;r.setDate(r.getDate()+3),i.fetchFlights(e,t,a.toISOString().split(".")[0]+"Z",r.toISOString().split(".")[0]+"Z")},i.state={results:[],airline:"AF",flight_number:"",errorMessage:""},i.handleAirlineUpdate=i.handleAirlineUpdate.bind(Object(j.a)(i)),i.handleFlightNumberUpdate=i.handleFlightNumberUpdate.bind(Object(j.a)(i)),i}return Object(d.a)(a,[{key:"handleAirlineUpdate",value:function(e){this.setState({airline:e.target.value})}},{key:"handleFlightNumberUpdate",value:function(e){this.setState({flight_number:e.target.value})}},{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"px-4 text-center",children:[Object(u.jsxs)("div",{className:"clearfix",children:[Object(u.jsx)("img",{src:"./air-france-logo.svg",height:"25",alt:"Air France Logo"}),Object(u.jsx)("img",{src:"./klm-logo.svg",height:"50",alt:"KLM Logo"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("h1",{className:"display-5 fw-bold",children:"Air France/KLM Status Page*"}),Object(u.jsx)("p",{className:"text-muted",children:"* This website is not affiliated in any way with Air France/KLM or any other entities"}),Object(u.jsxs)("div",{className:"col-lg-6 mx-auto",children:[Object(u.jsxs)("div",{className:"input-group mb-3",children:[Object(u.jsxs)("select",{value:this.state.airline,onChange:this.handleAirlineUpdate,className:"form-select",id:"airline",style:{textAlign:"right"},dir:"rtl",children:[Object(u.jsx)("option",{value:"AF",children:"AF/AFR"}),Object(u.jsx)("option",{value:"KL",children:"KL/KLM"})]}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"flight-number",placeholder:"349",onChange:this.handleFlightNumberUpdate,value:this.state.flight_number})]}),Object(u.jsx)("div",{className:"d-grid gap-2 mt-1 d-sm-flex justify-content-sm-center",children:Object(u.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4 gap-3",onClick:this.toggleButtonState,children:"Check Status"})}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{children:this.state.results.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{flight:e}),Object(u.jsx)("br",{})]})}))}),""!==this.state.errorMessage&&Object(u.jsx)("div",{className:"alert alert-danger mt-3",children:this.state.errorMessage})]})]})})}}]),a}(r.a.Component),f=function(){return Object(u.jsx)("h1",{children:"About"})},v=function(){return Object(u.jsxs)("ul",{className:"nav justify-content-center",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"/about",children:"About"})})]})},y=function(){return Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("footer",{className:"py-5",children:Object(u.jsxs)("div",{className:"d-flex justify-content-between py-4 my-4 border-top",children:[Object(u.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Arthur F\xe9tiveau. All logos and data coming from other companies are owned by their official owner."]}),Object(u.jsx)("ul",{className:"list-unstyled d-flex",children:Object(u.jsx)("li",{children:"For any questions, you can contact me at flightstatus[@]afetiveau[dot]com"})})]})})})},N=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(v,{}),Object(u.jsxs)(c.a,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",component:O}),Object(u.jsx)(l.a,{path:"/about",component:f})]}),Object(u.jsx)(y,{})]})};var T=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(N,{})})};n.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.c37212af.chunk.js.map